<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="485px" preserveAspectRatio="none" style="width:1217px;height:485px;background:#000000;" version="1.1" viewBox="0 0 1217 485" width="1217px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m0fmux28kxao" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#FFFFFF" font-family="Monospace" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="770" x="227" y="19.2419">Interaction between OmniOpt, sbatch, ax, BoTorch Module, and ExternalGenerationNodes</text><!--MD5=[5687f5b0a9f1da24cf398575a94f7314]
cluster HPCMaster--><polygon fill="#CC7000" filter="url(#f1m0fmux28kxao)" points="22,59.0158,32,49.0158,869,49.0158,869,463.5158,859,473.5158,22,473.5158,22,59.0158" style="stroke: #FFFFFF; stroke-width: 1.5;"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="859" x2="868" y1="59.0158" y2="50.0158"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="22" x2="859" y1="59.0158" y2="59.0158"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="859" x2="859" y1="59.0158" y2="473.5158"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="380.5" y="76.9818">HPC Master Node</text><!--MD5=[2581f1adf71c4d9c4ca8845dd85da35f]
cluster BoTorch Module--><polygon fill="#1E1E1E" filter="url(#f1m0fmux28kxao)" points="344,356.5158,463,356.5158,470,381.5838,757,381.5838,757,449.5158,344,449.5158,344,356.5158" style="stroke: #FFFFFF; stroke-width: 1.5;"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="344" x2="470" y1="381.5838" y2="381.5838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="348" y="373.4818">BoTorch Module</text><!--MD5=[e2889d74894dfd2cde98a945e775442d]
cluster ComputeNodes--><polygon fill="#CC7000" filter="url(#f1m0fmux28kxao)" points="895,203.0158,905,193.0158,1185,193.0158,1185,281.0158,1175,291.0158,895,291.0158,895,203.0158" style="stroke: #FFFFFF; stroke-width: 1.5;"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="1175" x2="1184" y1="203.0158" y2="194.0158"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="895" x2="1175" y1="203.0158" y2="203.0158"/><line style="stroke: #FFFFFF; stroke-width: 1.5;" x1="1175" x2="1175" y1="203.0158" y2="291.0158"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="980" y="220.9818">Compute Nodes</text><!--MD5=[2f2b0aedd9c38e5145f377076e8d496d]
entity OmniOptCore--><rect fill="#1E1E1E" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="125" x="726.5" y="92.0158"/><rect fill="#1E1E1E" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="721.5" y="97.0158"/><rect fill="#1E1E1E" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="721.5" y="121.0838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="736.5" y="116.9818">OmniOpt2 Core</text><!--MD5=[3a66b5fcc5a5db46ac919e228b9ab7c5]
entity ax_module--><rect fill="#ADD8E6" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="35" x="475.5" y="236.0158"/><rect fill="#ADD8E6" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="470.5" y="241.0158"/><rect fill="#ADD8E6" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="470.5" y="265.0838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="15" x="485.5" y="260.9818">ax</text><!--MD5=[ff96caba99bf59d2b43e041a81d886a4]
entity external_nodes--><rect fill="#1E1E1E" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="193" x="100.5" y="394.5158"/><rect fill="#1E1E1E" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="95.5" y="399.5158"/><rect fill="#1E1E1E" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="95.5" y="423.5838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="110.5" y="419.4818">ExternalGenerationNodes</text><!--MD5=[9f2a0a02820928be63157aaf6d5916ea]
entity db_runs--><path d="M173.5,241.5158 C173.5,231.5158 199,231.5158 199,231.5158 C199,231.5158 224.5,231.5158 224.5,241.5158 L224.5,269.5838 C224.5,279.5838 199,279.5838 199,279.5838 C199,279.5838 173.5,279.5838 173.5,269.5838 L173.5,241.5158 " fill="#FFEB3B" filter="url(#f1m0fmux28kxao)" style="stroke: #FFFFFF; stroke-width: 1.5;"/><path d="M173.5,241.5158 C173.5,251.5158 199,251.5158 199,251.5158 C199,251.5158 224.5,251.5158 224.5,241.5158 " fill="none" style="stroke: #FFFFFF; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="183.5" y="270.4818">runs</text><!--MD5=[fd9ebf31d21df91e110ad002d6f4b355]
entity sobol--><rect fill="#90EE90" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="199" x="360.5" y="394.5158"/><rect fill="#90EE90" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="355.5" y="399.5158"/><rect fill="#90EE90" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="355.5" y="423.5838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="370.5" y="419.4818">Sobol Sequence Generator</text><!--MD5=[768daca0a1630a961345edac01c51118]
entity botorch--><rect fill="#1E1E1E" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="146" x="595" y="394.5158"/><rect fill="#1E1E1E" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="590" y="399.5158"/><rect fill="#1E1E1E" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="590" y="423.5838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="605" y="419.4818">BoTorch Optimizer</text><!--MD5=[47e052b533fd8425fd8ca2757eeea134]
entity Job1--><rect fill="#FF8C00" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="62" x="1107" y="236.0158"/><rect fill="#FF8C00" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="1102" y="241.0158"/><rect fill="#FF8C00" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="1102" y="265.0838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1117" y="260.9818">Job #1</text><!--MD5=[ad1ecd006b7d6e2fcd722d0410ebc487]
entity Job2--><rect fill="#FF8C00" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="62" x="911" y="236.0158"/><rect fill="#FF8C00" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="906" y="241.0158"/><rect fill="#FF8C00" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="906" y="265.0838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="921" y="260.9818">Job #2</text><!--MD5=[d6d399e3b77205a86664f0dcaaa37b67]
entity JobN--><rect fill="#FF8C00" filter="url(#f1m0fmux28kxao)" height="39.0679" style="stroke: #FFFFFF; stroke-width: 1.5;" width="63" x="1008.5" y="236.0158"/><rect fill="#FF8C00" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="1003.5" y="241.0158"/><rect fill="#FF8C00" height="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="10" x="1003.5" y="265.0838"/><text fill="#FFFFFF" font-family="Monospace" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="1018.5" y="260.9818">Job #n</text><!--MD5=[da8e97604b8f762f2f25f39b9ce180b2]
link OmniOptCore to ax_module--><path d="M726.42,113.5058 C647.86,116.2258 519.73,126.0658 490,161.0158 C473.73,180.1358 478.2,210.2658 484.3,231.1358 " fill="none" id="OmniOptCore-&gt;ax_module" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="485.79,235.9658,486.9602,226.1868,484.3166,231.1879,479.3154,228.5443,485.79,235.9658" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="491" y="173.7748">invoke with search space</text><!--MD5=[1af0978839253e48dc811fb528ff5245]
link ax_module to OmniOptCore--><path d="M475.25,249.7358 C432.49,237.4058 329.93,202.5958 367,161.0158 C390.1,135.1058 607.45,121.0758 720.85,115.4658 " fill="none" id="ax_module-&gt;OmniOptCore" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="726.17,115.2058,716.9865,111.6472,721.1759,115.4484,717.3747,119.6378,726.17,115.2058" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="368" y="173.7748">all generated points</text><!--MD5=[da8e97604b8f762f2f25f39b9ce180b2]
link OmniOptCore to ax_module--><path d="M750.3,131.0758 C687.45,161.2258 565.19,219.8858 515.15,243.8858 " fill="none" id="OmniOptCore-&gt;ax_module-1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="510.54,246.1058,520.3844,245.8093,515.0458,243.9385,516.9166,238.5999,510.54,246.1058" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="686" y="173.7748">forward results</text><!--MD5=[8fff2eeadda3fff93d08937226cdcd97]
link ax_module to sobol--><path d="M475.48,255.9158 C440.09,255.7858 360.44,261.1758 325,309.5158 C316.85,320.6258 316.56,329.6258 325,340.5158 C333.71,351.7658 342.92,342.9258 356,348.5158 C382.63,359.8958 410.39,377.4458 430.52,391.3658 " fill="none" id="ax_module-&gt;sobol" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="434.7,394.2758,429.5893,385.8568,430.5932,391.4239,425.0261,392.4278,434.7,394.2758" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="326" y="329.7748">generate initial points (default)</text><!--MD5=[8e9aa0cc2a47bc04528d2dac2760e7a8]
link sobol to ax_module--><path d="M470.76,394.3458 C478.33,380.1158 487.83,359.7458 492,340.5158 C496.35,320.4958 496.22,297.1558 495.23,280.1658 " fill="none" id="sobol-&gt;ax_module" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="494.9,275.1058,491.5005,284.3494,495.2288,280.095,499.4832,283.8233,494.9,275.1058" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="497" y="329.7748">initial points</text><!--MD5=[cec394c570342177663ef42daa4e7d28]
link ax_module to botorch--><path d="M510.52,266.8658 C526.87,276.8658 551.59,292.9158 571,309.5158 C600.61,334.8258 630.65,368.3658 649.3,390.3058 " fill="none" id="ax_module-&gt;botorch" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="652.64,394.2658,649.8785,384.8121,649.4096,390.4495,643.7723,389.9806,652.64,394.2658" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="619" y="322.2748">generate points</text><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="604" y="337.2566">(using current points)</text><!--MD5=[d98d609daf0f481925676ee246f0cfd7]
link botorch to ax_module--><path d="M691.5,394.3258 C715.86,372.6858 747.59,336.5658 726,309.5158 C699.79,276.6758 569.2,262.6258 515.81,258.1858 " fill="none" id="botorch-&gt;ax_module" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="510.59,257.7658,519.2413,262.4728,515.574,258.1657,519.8811,254.4984,510.59,257.7658" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="735" y="329.7748">new points</text><!--MD5=[fec4a35e48065a648c0a47644d8b95b4]
link ax_module to external_nodes--><path d="M475.44,260.1558 C434.66,268.4558 330.26,288.8758 242,299.0158 C222.98,301.1958 83.12,295.5658 70,309.5158 C39.76,341.6658 92.84,372.8658 139.34,392.4558 " fill="none" id="ax_module-&gt;external_nodes" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="144.11,394.4358,137.322,387.2998,139.4896,392.5249,134.2645,394.6925,144.11,394.4358" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="86" y="322.2748">generate points</text><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="71" y="337.2566">(using current points)</text><!--MD5=[d5253afcf19d710b4b3ea91b9ffa8f3e]
link external_nodes to ax_module--><path d="M201.56,394.1458 C208.28,370.5958 223.15,330.8158 251,309.5158 C285.6,283.0558 416.94,265.2858 470.28,259.0258 " fill="none" id="external_nodes-&gt;ax_module" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="475.49,258.4158,466.0838,255.4964,470.5243,259.0009,467.0198,263.4414,475.49,258.4158" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="252" y="329.7748">new points</text><!--MD5=[81c8fd8f3110b8c69dff5529db286869]
link OmniOptCore to Job1--><path d="M851.66,117.0158 C925.47,123.3258 1042.66,136.8458 1079,161.0158 C1104.11,177.7158 1120.62,209.1358 1129.63,230.9158 " fill="none" id="OmniOptCore-&gt;Job1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1131.55,235.6858,1131.8953,225.843,1129.6808,231.0484,1124.4754,228.8338,1131.55,235.6858" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="1097" y="173.7748">submit job</text><!--MD5=[c18ddbec662f5264ce3bce332f70300b]
link Job1 to OmniOptCore--><path d="M1151.62,235.7258 C1164.82,215.0258 1180.36,181.9158 1162,161.0158 C1142.21,138.4858 958.86,123.3258 856.8,116.5458 " fill="none" id="Job1-&gt;OmniOptCore" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="851.7,116.2158,860.4175,120.799,856.6892,116.5446,860.9436,112.8163,851.7,116.2158" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1170" y="173.7748">results</text><!--MD5=[8f4913b2f0c9031033e922545f626df0]
link OmniOptCore to Job2--><path d="M809.85,131.1558 C826.07,145.7158 849.09,166.5158 869,185.0158 C885.76,200.5858 904.43,218.3758 918.7,232.0558 " fill="none" id="OmniOptCore-&gt;Job2" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="922.6,235.7958,918.8979,226.6692,919.0008,232.3252,913.3449,232.428,922.6,235.7958" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="859" y="173.7748">submit job</text><!--MD5=[e1f374dc4ac342c09d47f00321df32d4]
link Job2 to OmniOptCore--><path d="M928.35,235.9658 C915.15,219.5558 893.57,196.5058 869,185.0158 C854.82,178.3858 810.29,187.8658 799,177.0158 C788.32,166.7558 785.94,150.1658 786.17,136.3858 " fill="none" id="Job2-&gt;OmniOptCore" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="786.38,131.0658,781.9983,139.8863,786.1659,136.0613,789.991,140.2289,786.38,131.0658" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="800" y="173.7748">results</text><!--MD5=[531f84d1dbeccf3f27e2ed863d36d27c]
link OmniOptCore to JobN--><path d="M851.51,120.4058 C905.63,128.3558 978.62,142.1558 1001,161.0158 C1021.92,178.6458 1031.81,209.3658 1036.36,230.7658 " fill="none" id="OmniOptCore-&gt;JobN" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1037.35,235.7158,1039.5019,226.105,1036.3667,230.8135,1031.6581,227.6783,1037.35,235.7158" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="1014" y="173.7748">submit job</text><!--MD5=[4d52ecd93ead93b7a2fe0b14a0c77798]
link JobN to OmniOptCore--><path d="M1031.7,235.9258 C1023.6,219.9658 1009.76,197.5958 991,185.0158 C977.75,176.1258 971.02,182.3958 956,177.0158 C941.03,171.6458 938.62,167.2658 924,161.0158 C900.27,150.8658 873.63,140.9858 850.33,132.8158 " fill="none" id="JobN-&gt;OmniOptCore" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="845.41,131.1058,852.5988,137.838,850.1331,132.7468,855.2243,130.2811,845.41,131.1058" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="957" y="173.7748">results</text><!--MD5=[cd9410c4e60777fc3d6f7560487be14a]
link OmniOptCore to db_runs--><path d="M726.39,114.6658 C591.81,119.7858 283.95,134.2958 245,161.0158 C223.04,176.0758 211.13,204.7358 204.96,226.3658 " fill="none" id="OmniOptCore-&gt;db_runs" style="stroke: #FFFFFF; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="203.59,231.4258,209.7922,223.7752,204.8899,226.5978,202.0673,221.6954,203.59,231.4258" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Monospace" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="246" y="173.7748">log runs and results</text><!--MD5=[b2b3cd08bcff5e4c53e7fc6344060282]
@startuml

  skinparam backgroundColor #000000
  skinparam defaultFontColor #ffffff
  skinparam componentFontColor #ffffff
  skinparam nodeFontColor #ffffff
  skinparam databaseFontColor #ffffff
  skinparam arrowColor #ffffff
  skinparam ArrowFontColor #ffffff

  skinparam componentBackgroundColor #1e1e1e
  skinparam nodeBackgroundColor #CC7000
  skinparam databaseBackgroundColor #003166
  skinparam packageBackgroundColor #1e1e1e
  skinparam cloudBackgroundColor #1e1e1e

  skinparam componentBorderColor #ffffff
  skinparam nodeBorderColor #ffffff
  skinparam databaseBorderColor #ffffff
  skinparam packageBorderColor #ffffff
  skinparam cloudBorderColor #ffffff
  skinparam rectangleBorderColor #ffffff

skinparam componentStyle rectangle
skinparam defaultFontName Monospace
skinparam ArrowFontSize 11

title Interaction between OmniOpt, sbatch, ax, BoTorch Module, and ExternalGenerationNodes

node "HPC Master Node" as HPCMaster {
  component "OmniOpt2 Core" as OmniOptCore
  component "ax" as ax_module #LightBlue

  package "BoTorch Module" {
    component "Sobol Sequence Generator" as sobol #LightGreen
    component "BoTorch Optimizer" as botorch
  }

  component "ExternalGenerationNodes" as external_nodes

  database "runs" as db_runs #FFEB3B
}

node "Compute Nodes" as ComputeNodes {
  component "Job #1" as Job1 #FF8C00
  component "Job #2" as Job2 #FF8C00
  component "Job #n" as JobN #FF8C00
}

OmniOptCore - -> ax_module : invoke with search space

ax_module - -> sobol : generate initial points (default)
sobol - -> ax_module : initial points

ax_module - -> botorch : generate points\n(using current points)
ax_module - -> external_nodes : generate points\n(using current points)

botorch - -> ax_module : new points
external_nodes - -> ax_module : new points

ax_module - -> OmniOptCore : all generated points

OmniOptCore - -> Job1 : submit job
OmniOptCore - -> Job2 : submit job
OmniOptCore - -> JobN : submit job

Job1 - -> OmniOptCore : results
Job2 - -> OmniOptCore : results
JobN - -> OmniOptCore : results

OmniOptCore - -> ax_module : forward results

OmniOptCore - -> db_runs : log runs and results

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.27+6-post-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>